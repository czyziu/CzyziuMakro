:root {
  --cal-bg: #0d1117;
  --cal-card: #0f1621;
  --cal-muted: #9fb0c3;
  --cal-accent: #4cc2ff;
  --cal-border: #1f2a38;
}

body { background: var(--cal-bg); color: #e6eef8; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
.container { max-width: 1200px; margin: 0 auto; padding: 16px; }
h1 { margin: 0 0 .25rem; }
.muted { color: var(--cal-muted); }

#mealCalendar { margin-top: 1.5rem; }

/* Nagłówek i strzałki */
.cal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}
.cal-btn {
  border: 1px solid var(--cal-border);
  background: var(--cal-card);
  padding: .55rem .8rem;
  border-radius: .6rem;
  cursor: pointer;
  color: #e6eef8;
  font-weight: 600;
}
.cal-btn.icon-only {
  width: 2.25rem;
  height: 2.25rem;
  padding: 0;
  display: inline-grid;
  place-items: center;
}

/* Pasek z datami dni tygodnia */
.cal-days {
  display: flex;
  gap: .4rem;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  flex: 1;
}
.day-chip {
  border: 1px solid var(--cal-border);
  background: var(--cal-card);
  padding: .45rem .6rem;
  border-radius: .6rem;
  font-weight: 700;
  cursor: pointer;
  color: #e6eef8;
}
.day-chip:focus { outline: 2px solid var(--cal-accent); outline-offset: 2px; }
.day-chip.is-today {
  background: var(--cal-accent);
  color: #00121f;
  border-color: transparent;
}
.day-chip.is-selected {
  box-shadow: 0 0 0 2px var(--cal-accent) inset;
}

/* Tygodniowe sumy */
.week-summary {
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: .5rem;
  background: var(--cal-card);
  border: 1px solid var(--cal-border);
  border-radius: .8rem;
  padding: .6rem .8rem;
  margin-bottom: 1rem;
}
.week-summary div { color: var(--cal-muted); font-weight: 600; }

/* Siatka dni */
.calendar-grid {
  display: grid;
  gap: .9rem;
  grid-template-columns: repeat(1, minmax(0, 1fr));
}
@media (min-width: 720px) { .calendar-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { .calendar-grid { grid-template-columns: repeat(4, 1fr); } }
@media (min-width: 1480px) { .calendar-grid { grid-template-columns: repeat(7, 1fr); } }

/* Karta dnia */
.day-card {
  background: var(--cal-card);
  border: 1px solid var(--cal-border);
  border-radius: .9rem;
  padding: .9rem;
  display: flex; flex-direction: column; gap: .6rem;
  min-height: 260px;
}
.day-card.is-today {
  border-color: var(--cal-accent);
  box-shadow: 0 0 0 2px rgba(76, 194, 255, 0.25);
}
.day-head { display: flex; align-items: baseline; justify-content: space-between; gap: .5rem; }
.day-title { font-weight: 800; }
.day-date { color: var(--cal-muted); font-size: .95rem; }
.day-date.is-today {
  background: var(--cal-accent);
  color: #00121f;
  padding: 0 .4rem;
  border-radius: .5rem;
  font-weight: 800;
}

/* Suma dnia */
.day-totals { display: flex; gap: .5rem; flex-wrap: wrap; }
.chip {
  border: 1px dashed var(--cal-border);
  border-radius: .7rem;
  padding: .2rem .5rem;
  font-size: .85rem;
  color: var(--cal-muted);
}
.num { font-variant-numeric: tabular-nums; }

/* Posiłki */
details.meal {
  border: 1px solid var(--cal-border);
  border-radius: .7rem;
  overflow: hidden;
  background: rgba(255,255,255,0.02);
}
details.meal + details.meal { margin-top: .5rem; }
details > summary {
  list-style: none;
  cursor: pointer;
  padding: .55rem .7rem;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: .5rem;
  font-weight: 700;
}
details > summary::-webkit-details-marker { display: none; }
.meal-name { display: flex; gap: .5rem; align-items: center; }
.meal-kcal { color: var(--cal-accent); font-weight: 800; }
.meal-macro { color: var(--cal-muted); font-size: .9rem; }

.meal-body { padding: .6rem .7rem .8rem; display: grid; gap: .6rem; }

.food-list { display: grid; gap: .35rem; }
.food-item {
  display: grid; align-items: center; gap: .5rem;
  grid-template-columns: 1fr auto auto auto 28px;
  border: 1px dashed var(--cal-border);
  border-radius: .6rem; padding: .35rem .5rem;
}
.food-item .name { font-weight: 600; }
.food-remove { background: none; border: 0; color: #f7b2b2; font-weight: 900; cursor: pointer; }

/* Dodawanie pozycji */
.add-box { border-top: 1px dashed var(--cal-border); padding-top: .6rem; display: grid; gap: .5rem; }
.add-row { display: grid; gap: .5rem; grid-template-columns: 1.5fr repeat(5, 1fr); }
.add-row input, .add-row select {
  background: #0b121b; border: 1px solid var(--cal-border); color: #e6eef8;
  border-radius: .5rem; padding: .45rem .5rem; font-size: .95rem;
}
.add-actions { display: flex; gap: .5rem; }
.btn-small { padding: .45rem .6rem; border-radius: .5rem; border: 1px solid var(--cal-border); background: #0b121b; color: #e6eef8; font-weight: 700; cursor: pointer; }
.btn-small.primary { background: var(--cal-accent); color: #00121f; border-color: transparent; }

.day-tools { margin-top: .4rem; display: flex; gap: .4rem; flex-wrap: wrap; }
.day-tools .btn-small { font-size: .85rem; }


/* --- Sticky footer: stopka zawsze na dole --- */
html, body { height: 100%; }
body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
#pageBlurWrap { flex: 1 0 auto; }   /* cała treść rozpycha body */
.site-footer { margin-top: auto; }   /* stopka dociskana do dołu */

/* --- Jeden kafelek dnia wyśrodkowany --- */
/* Wymuszenie pojedynczej kolumny i centrowanie siatki */
body[data-page="pozalogowaniu"] .calendar-grid {
  grid-template-columns: minmax(320px, 780px) !important; /* zawsze 1 kolumna */
  justify-content: center;   /* centrowanie kolumny w kontenerze */
  max-width: 780px;          /* węższy, czytelny środek */
  margin-left: auto;
  margin-right: auto;
}

/* Kafelek rozszerza się na szerokość toru */
body[data-page="pozalogowaniu"] .day-card {
  width: 100%;
}

/* Opcjonalnie: lekka wysokość, żeby kafelek nie „przyklejał” się do nagłówka */
body[data-page="pozalogowaniu"] .calendar-grid {
  padding-top: 0.5rem;
  padding-bottom: 1rem;
}

/* (opcjonalnie) pełne wycentrowanie również w pionie – odkomentuj, jeśli chcesz:
body[data-page="pozalogowaniu"] .calendar-grid {
  min-height: calc(100vh - 260px);  // zapas na header+chipsy
  align-content: center;             // centrowanie w pionie
}
*/
